{"ast":null,"code":"import React,{useState,useEffect}from'react';import CourseList from'./CourseList';import CourseForm from'./CourseForm';import CourseDetails from'./CourseDetails';import{courseService}from'../services/courseService';import'./CourseManagement.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const CourseManagement=()=>{const[view,setView]=useState('list');// 'list', 'form', 'details'\nconst[selectedCourse,setSelectedCourse]=useState(null);const[isEdit,setIsEdit]=useState(false);const[refreshTrigger,setRefreshTrigger]=useState(0);const[notification,setNotification]=useState(null);// Show notification\nconst showNotification=function(message){let type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'success';setNotification({message,type});setTimeout(()=>setNotification(null),4000);};// Handle creating new course\nconst handleCreateCourse=()=>{setSelectedCourse(null);setIsEdit(false);setView('form');};// Handle editing course\nconst handleEditCourse=course=>{setSelectedCourse(course);setIsEdit(true);setView('form');};// Handle viewing course details\nconst handleViewCourse=course=>{setSelectedCourse(course);setView('details');};// Handle course save (create or update)\nconst handleCourseSave=savedCourse=>{const message=isEdit?'Cours modifié avec succès':'Cours créé avec succès';showNotification(message,'success');setView('list');setSelectedCourse(null);setRefreshTrigger(prev=>prev+1);// Trigger list refresh\n};// Handle course delete\nconst handleCourseDelete=courseId=>{showNotification('Cours supprimé avec succès','success');setRefreshTrigger(prev=>prev+1);// Trigger list refresh\n};// Handle cancel form\nconst handleCancelForm=()=>{setView('list');setSelectedCourse(null);setIsEdit(false);};// Handle close details\nconst handleCloseDetails=()=>{setView('list');setSelectedCourse(null);};// Handle edit from details view\nconst handleEditFromDetails=course=>{setSelectedCourse(course);setIsEdit(true);setView('form');};return/*#__PURE__*/_jsxs(\"div\",{className:\"course-management\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"course-management-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header-content\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Gestion des Cours\"}),/*#__PURE__*/_jsx(\"p\",{children:\"G\\xE9rez et organisez les cours de votre plateforme LMS\"})]}),view==='list'&&/*#__PURE__*/_jsxs(\"button\",{className:\"btn-create-course\",onClick:handleCreateCourse,children:[/*#__PURE__*/_jsx(\"span\",{className:\"btn-icon\",children:\"+\"}),\"Nouveau cours\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"breadcrumb\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"breadcrumb-item \".concat(view==='list'?'active':''),onClick:()=>setView('list'),children:\"Liste des cours\"}),view==='form'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"breadcrumb-separator\",children:\"\\u203A\"}),/*#__PURE__*/_jsx(\"span\",{className:\"breadcrumb-item active\",children:isEdit?'Modifier le cours':'Nouveau cours'})]}),view==='details'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"breadcrumb-separator\",children:\"\\u203A\"}),/*#__PURE__*/_jsx(\"span\",{className:\"breadcrumb-item active\",children:\"D\\xE9tails du cours\"})]})]}),notification&&/*#__PURE__*/_jsxs(\"div\",{className:\"notification notification-\".concat(notification.type),children:[/*#__PURE__*/_jsx(\"span\",{className:\"notification-message\",children:notification.message}),/*#__PURE__*/_jsx(\"button\",{className:\"notification-close\",onClick:()=>setNotification(null),children:\"\\u2715\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"course-management-content\",children:[view==='list'&&/*#__PURE__*/_jsx(CourseList,{// Force re-render when refresh triggered\nonSelectCourse:handleViewCourse,onEditCourse:handleEditCourse,onDeleteCourse:handleCourseDelete},refreshTrigger),view==='form'&&/*#__PURE__*/_jsx(CourseForm,{course:selectedCourse,isEdit:isEdit,onSave:handleCourseSave,onCancel:handleCancelForm}),view==='details'&&selectedCourse&&/*#__PURE__*/_jsx(CourseDetails,{courseId:selectedCourse.id,onClose:handleCloseDetails,onEdit:handleEditFromDetails})]})]});};export default CourseManagement;","map":{"version":3,"names":["React","useState","useEffect","CourseList","CourseForm","CourseDetails","courseService","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CourseManagement","view","setView","selectedCourse","setSelectedCourse","isEdit","setIsEdit","refreshTrigger","setRefreshTrigger","notification","setNotification","showNotification","message","type","arguments","length","undefined","setTimeout","handleCreateCourse","handleEditCourse","course","handleViewCourse","handleCourseSave","savedCourse","prev","handleCourseDelete","courseId","handleCancelForm","handleCloseDetails","handleEditFromDetails","className","children","onClick","concat","onSelectCourse","onEditCourse","onDeleteCourse","onSave","onCancel","id","onClose","onEdit"],"sources":["C:/Users/Youcode/Desktop/lms/projet-lms/FrontEnd/src/components/CourseManagement.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport CourseList from './CourseList';\r\nimport CourseForm from './CourseForm';\r\nimport CourseDetails from './CourseDetails';\r\nimport { courseService } from '../services/courseService';\r\nimport './CourseManagement.css';\r\n\r\nconst CourseManagement = () => {\r\n  const [view, setView] = useState('list'); // 'list', 'form', 'details'\r\n  const [selectedCourse, setSelectedCourse] = useState(null);\r\n  const [isEdit, setIsEdit] = useState(false);\r\n  const [refreshTrigger, setRefreshTrigger] = useState(0);\r\n  const [notification, setNotification] = useState(null);\r\n\r\n  // Show notification\r\n  const showNotification = (message, type = 'success') => {\r\n    setNotification({ message, type });\r\n    setTimeout(() => setNotification(null), 4000);\r\n  };\r\n\r\n  // Handle creating new course\r\n  const handleCreateCourse = () => {\r\n    setSelectedCourse(null);\r\n    setIsEdit(false);\r\n    setView('form');\r\n  };\r\n\r\n  // Handle editing course\r\n  const handleEditCourse = (course) => {\r\n    setSelectedCourse(course);\r\n    setIsEdit(true);\r\n    setView('form');\r\n  };\r\n\r\n  // Handle viewing course details\r\n  const handleViewCourse = (course) => {\r\n    setSelectedCourse(course);\r\n    setView('details');\r\n  };\r\n\r\n  // Handle course save (create or update)\r\n  const handleCourseSave = (savedCourse) => {\r\n    const message = isEdit \r\n      ? 'Cours modifié avec succès' \r\n      : 'Cours créé avec succès';\r\n    \r\n    showNotification(message, 'success');\r\n    setView('list');\r\n    setSelectedCourse(null);\r\n    setRefreshTrigger(prev => prev + 1); // Trigger list refresh\r\n  };\r\n\r\n  // Handle course delete\r\n  const handleCourseDelete = (courseId) => {\r\n    showNotification('Cours supprimé avec succès', 'success');\r\n    setRefreshTrigger(prev => prev + 1); // Trigger list refresh\r\n  };\r\n\r\n  // Handle cancel form\r\n  const handleCancelForm = () => {\r\n    setView('list');\r\n    setSelectedCourse(null);\r\n    setIsEdit(false);\r\n  };\r\n\r\n  // Handle close details\r\n  const handleCloseDetails = () => {\r\n    setView('list');\r\n    setSelectedCourse(null);\r\n  };\r\n\r\n  // Handle edit from details view\r\n  const handleEditFromDetails = (course) => {\r\n    setSelectedCourse(course);\r\n    setIsEdit(true);\r\n    setView('form');\r\n  };\r\n\r\n  return (\r\n    <div className=\"course-management\">\r\n      {/* Header */}\r\n      <div className=\"course-management-header\">\r\n        <div className=\"header-content\">\r\n          <h1>Gestion des Cours</h1>\r\n          <p>Gérez et organisez les cours de votre plateforme LMS</p>\r\n        </div>\r\n        {view === 'list' && (\r\n          <button \r\n            className=\"btn-create-course\"\r\n            onClick={handleCreateCourse}\r\n          >\r\n            <span className=\"btn-icon\">+</span>\r\n            Nouveau cours\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Breadcrumb Navigation */}\r\n      <div className=\"breadcrumb\">\r\n        <span \r\n          className={`breadcrumb-item ${view === 'list' ? 'active' : ''}`}\r\n          onClick={() => setView('list')}\r\n        >\r\n          Liste des cours\r\n        </span>\r\n        {view === 'form' && (\r\n          <>\r\n            <span className=\"breadcrumb-separator\">›</span>\r\n            <span className=\"breadcrumb-item active\">\r\n              {isEdit ? 'Modifier le cours' : 'Nouveau cours'}\r\n            </span>\r\n          </>\r\n        )}\r\n        {view === 'details' && (\r\n          <>\r\n            <span className=\"breadcrumb-separator\">›</span>\r\n            <span className=\"breadcrumb-item active\">\r\n              Détails du cours\r\n            </span>\r\n          </>\r\n        )}\r\n      </div>\r\n\r\n      {/* Notification */}\r\n      {notification && (\r\n        <div className={`notification notification-${notification.type}`}>\r\n          <span className=\"notification-message\">{notification.message}</span>\r\n          <button \r\n            className=\"notification-close\"\r\n            onClick={() => setNotification(null)}\r\n          >\r\n            ✕\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Main Content */}\r\n      <div className=\"course-management-content\">\r\n        {view === 'list' && (\r\n          <CourseList\r\n            key={refreshTrigger} // Force re-render when refresh triggered\r\n            onSelectCourse={handleViewCourse}\r\n            onEditCourse={handleEditCourse}\r\n            onDeleteCourse={handleCourseDelete}\r\n          />\r\n        )}\r\n\r\n        {view === 'form' && (\r\n          <CourseForm\r\n            course={selectedCourse}\r\n            isEdit={isEdit}\r\n            onSave={handleCourseSave}\r\n            onCancel={handleCancelForm}\r\n          />\r\n        )}\r\n\r\n        {view === 'details' && selectedCourse && (\r\n          <CourseDetails\r\n            courseId={selectedCourse.id}\r\n            onClose={handleCloseDetails}\r\n            onEdit={handleEditFromDetails}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CourseManagement;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}