{"ast":null,"code":"import React,{useState,useEffect}from'react';import{courseService}from'../services/courseService';import'./CourseDetails.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CourseDetails=_ref=>{let{courseId,onClose,onEdit}=_ref;const[course,setCourse]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState('');useEffect(()=>{if(courseId){fetchCourseDetails();}},[courseId]);const fetchCourseDetails=async()=>{try{setLoading(true);const courseData=await courseService.getCourseById(courseId);setCourse(courseData);setError('');}catch(err){setError(err.message);}finally{setLoading(false);}};const formatDate=dateString=>{return new Date(dateString).toLocaleDateString('fr-FR',{year:'numeric',month:'long',day:'numeric',hour:'2-digit',minute:'2-digit'});};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"course-details-overlay\",children:/*#__PURE__*/_jsx(\"div\",{className:\"course-details-modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loading-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Chargement des d\\xE9tails du cours...\"})]})})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"course-details-overlay\",children:/*#__PURE__*/_jsx(\"div\",{className:\"course-details-modal\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"error-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Erreur\"}),/*#__PURE__*/_jsx(\"p\",{children:error}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:onClose,children:\"Fermer\"})]})})});}if(!course){return null;}return/*#__PURE__*/_jsx(\"div\",{className:\"course-details-overlay\",onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"course-details-modal\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:course.title}),/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",onClick:onClose,title:\"Fermer\",children:\"\\u2715\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"course-info-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"p\",{className:\"course-description\",children:course.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"course-meta-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"meta-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"meta-label\",children:\"Date de cr\\xE9ation :\"}),/*#__PURE__*/_jsx(\"span\",{className:\"meta-value\",children:formatDate(course.createdAt)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"meta-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"meta-label\",children:\"Derni\\xE8re modification :\"}),/*#__PURE__*/_jsx(\"span\",{className:\"meta-value\",children:formatDate(course.updatedAt)})]})]}),course.employees&&course.employees.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"course-enrollment-section\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Inscriptions (\",course.employees.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"employees-list\",children:course.employees.map((employee,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"employee-item\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"employee-info\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"employee-name\",children:[employee.firstName,\" \",employee.lastName]}),employee.email&&/*#__PURE__*/_jsx(\"span\",{className:\"employee-email\",children:employee.email})]})},employee.id||index))})]}),(!course.employees||course.employees.length===0)&&/*#__PURE__*/_jsx(\"div\",{className:\"no-enrollments\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Aucune inscription pour ce cours.\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:onClose,children:\"Fermer\"}),onEdit&&/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:()=>onEdit(course),children:\"Modifier\"})]})]})});};export default CourseDetails;","map":{"version":3,"names":["React","useState","useEffect","courseService","jsx","_jsx","jsxs","_jsxs","CourseDetails","_ref","courseId","onClose","onEdit","course","setCourse","loading","setLoading","error","setError","fetchCourseDetails","courseData","getCourseById","err","message","formatDate","dateString","Date","toLocaleDateString","year","month","day","hour","minute","className","children","onClick","e","stopPropagation","title","description","createdAt","updatedAt","employees","length","map","employee","index","firstName","lastName","email","id"],"sources":["C:/Users/Youcode/Desktop/lms/projet-lms/FrontEnd/src/components/CourseDetails.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { courseService } from '../services/courseService';\r\nimport './CourseDetails.css';\r\n\r\nconst CourseDetails = ({ courseId, onClose, onEdit }) => {\r\n  const [course, setCourse] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (courseId) {\r\n      fetchCourseDetails();\r\n    }\r\n  }, [courseId]);\r\n\r\n  const fetchCourseDetails = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const courseData = await courseService.getCourseById(courseId);\r\n      setCourse(courseData);\r\n      setError('');\r\n    } catch (err) {\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString('fr-FR', {\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"course-details-overlay\">\r\n        <div className=\"course-details-modal\">\r\n          <div className=\"loading-container\">\r\n            <div className=\"loading-spinner\"></div>\r\n            <p>Chargement des détails du cours...</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"course-details-overlay\">\r\n        <div className=\"course-details-modal\">\r\n          <div className=\"error-container\">\r\n            <h3>Erreur</h3>\r\n            <p>{error}</p>\r\n            <button className=\"btn btn-primary\" onClick={onClose}>\r\n              Fermer\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!course) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"course-details-overlay\" onClick={onClose}>\r\n      <div className=\"course-details-modal\" onClick={(e) => e.stopPropagation()}>\r\n        <div className=\"modal-header\">\r\n          <h2>{course.title}</h2>\r\n          <button className=\"close-button\" onClick={onClose} title=\"Fermer\">\r\n            ✕\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"modal-body\">\r\n          <div className=\"course-info-section\">\r\n            <h3>Description</h3>\r\n            <p className=\"course-description\">{course.description}</p>\r\n          </div>\r\n\r\n          <div className=\"course-meta-section\">\r\n            <div className=\"meta-row\">\r\n              <span className=\"meta-label\">Date de création :</span>\r\n              <span className=\"meta-value\">{formatDate(course.createdAt)}</span>\r\n            </div>\r\n            <div className=\"meta-row\">\r\n              <span className=\"meta-label\">Dernière modification :</span>\r\n              <span className=\"meta-value\">{formatDate(course.updatedAt)}</span>\r\n            </div>\r\n          </div>\r\n\r\n          {course.employees && course.employees.length > 0 && (\r\n            <div className=\"course-enrollment-section\">\r\n              <h3>Inscriptions ({course.employees.length})</h3>\r\n              <div className=\"employees-list\">\r\n                {course.employees.map((employee, index) => (\r\n                  <div key={employee.id || index} className=\"employee-item\">\r\n                    <div className=\"employee-info\">\r\n                      <span className=\"employee-name\">\r\n                        {employee.firstName} {employee.lastName}\r\n                      </span>\r\n                      {employee.email && (\r\n                        <span className=\"employee-email\">{employee.email}</span>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {(!course.employees || course.employees.length === 0) && (\r\n            <div className=\"no-enrollments\">\r\n              <p>Aucune inscription pour ce cours.</p>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"modal-footer\">\r\n          <button className=\"btn btn-secondary\" onClick={onClose}>\r\n            Fermer\r\n          </button>\r\n          {onEdit && (\r\n            <button className=\"btn btn-primary\" onClick={() => onEdit(course)}>\r\n              Modifier\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CourseDetails;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}